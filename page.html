<!DOCTYPE html>
<html>
    <head>
        <title>Haitham's Webpage.</title>
        
        <script>
           function updatetitle(state) {
                document.getElementById("title_thing").innerHTML = "Haitham&#39;s Webpage, Now with JavaScript!";
                state.innerHTML = "Show the bottom picture"
                }
           
           function disappear(btn) {
                var x = document.getElementById("camel");
                if (x.style.display === "none") {
                    x.style.display = "block";
                    btn.innerHTML = "Hide the bottom picture.";
                } else {
                    x.style.display = "none";
                    btn.innerHTML = "Show the bottom picture";
                }
            }

            function imgchanger() {
                document.getElementById("desert").src = "./Images/morocco-ian-neubauer.jpg";
            }

            function validateField(field, errorId) {
                var errorElement = document.getElementById(errorId);
                if (field.value.trim() === "") {
                    errorElement.innerHTML = "This field is required";
                } else {
                    errorElement.innerHTML = "";
                }          
            }
           
             async function getText(file) {
                let myObject = await fetch(file);
                let myText = await myObject.text();
                myDisplay(myText);
            } 

            function myDisplay(content) {
                document.getElementById("output").innerText = content;
            }
		</script>
    </head>
    <body>

        <h1 id="title_thing">Haitham&#39;s Webpage.</h1>
            <button onclick="updatetitle()">Update the Title</button>
        <br><br><br>
        <h2>To control the LED:</h2>
        <form action="led.php" method="post">
            <button type="submit" name="state" value="on">Turn LED ON</button>
            <button type="submit" name="state" value="off">Turn LED OFF</button>
            <button type="submit" name="state" value="toggle">Toggle LED</button>
        </form>
        <br>
        <h2>To view sensor data:</h2>
        <form action="sensor.php" method="post">
            <button type="submit">View sensor data</button>
        </form>

        <br>

        <h4>Here are the pictures! (a form is available below)</h4>
        <div>
        <p><a href="./index.html">Click here</a> to go back.</p>

        <p>And <a href="https://en.wikipedia.org/wiki/Morocco" target="_blank">click here</a> to learn a bit more.</p>


        <button onclick="window.alert('Trivago')">Hotel?</button>
        <br><br>
        <button onclick="getText('./Text/msg.txt')">JavaScript Fetch Button</button>
        <div id="output">[Fetch text here]</div>
        <br><br>
        <button id="onoff" onclick="disappear(this)">Hide the bottom picture.</button>
        <br><br>


        <img id="camel" src="./Images/Caravan.jpg" alt="">
        <br><br>
        <button onclick="imgchanger()">Change the bottom image!</button>
        <br><br>
        <img id="desert" src="./Images/explore-morocco-1600x690.jpg" alt="">
        </div>


        <h2>Here are a few questions!</h2>
        <div>
            <form action="submit_info.php" method="post">
                <label for="fname" required>First name</label><br>
                <input type="text" id="fname" name="fname" onblur="validateField(this, 'fnameErr')"><br>
                <span id="fnameErr" class="error">This field is required</span>
                <br><br>
                <label for="lname" required>Last name</label><br>
                <input type="text" id="lname" name="lname" onblur="validateField(this, 'lnameErr')"><br>
                <span id="lnameErr" class="error">This field is required</span>
                <br><br>
                <label for="age" required>Your age</label><br>
                <input type="number" id="age" name="age" pattern="[0-9]{2}" title="Your age" onblur="validateField(this, 'ageErr')"><br>
                <span id="ageErr" class="error">This field is required</span>
                <br>
                <p><input type="submit" /></p>
            </form>

            <form action="from_server.php" method="post">
                    Search for first name: <input type="text" name="fname">
                    <input type="submit" value="Search">
            </form>

            <form>
                <br><br>
                <p>Now, if you were to explore the desert, what time would you want to go?</p>

                <label for="time">Choose a time of day:</label>
                <select id="time" name="time">
                    <option value="dawn">Dawn</option>
                    <option value="morning">Morning</option>
                    <option value="noon" selected>Noon</option>
                    <option value="afternoon">Afternoon</option>
                    <option value="evening">Evening</option>
                    <option value="sunset">Sunset</option>
                    <option value="night">Night</option>
                </select>             
                <br><br><br>
                    
                <p>Also, what rating would you give to a desert trip?</p>
                    
                    0/10
                    <input type="range" id="a" name="a" value="50">
                    10/10
                    <br><br>
                    <input type="submit">
                                    
                <br><br><br>

                <p>Finally, what animal would bring to a desert trip?</p>
                    
                    <label for="animal">Choose an animal:</label>
                    <select id="animal" name="animal" size="3">
                        <option value="horse">Horse</option>
                        <option value="camel">Camel</option>
                        <option value="noanimal">No animal</option>
                    </select><br><br>
                    <input type="submit">
            </form>
                
                
                <br><br><br>
        </div>
    </body>
</html>